#!/usr/bin/ruby

require_relative 'task'
require_relative 'todo_list'
require_relative 'command'
require 'rainbow/ext/string'

@todo_list = TodoList.new(ARGV[0])
@todo_list.read_todo
@todo_list.instruction
@todo_list.print

while line = $stdin.gets
  Command.new(@todo_list, line).execute
  puts "*******"
  @todo_list.print
  puts "*******"
  @todo_list.write_todo
end
